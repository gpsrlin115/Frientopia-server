<!DOCTYPE html>
<html lang = "kr" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>프렌토피아</title>
  <link th:href="@{/css/common.css}" rel="stylesheet">
  <link th:href="@{/css/mentor-find.css}" rel="stylesheet">
  <link th:href="@{/css/main1.css}" rel="stylesheet">
  <link th:href="@{/css/post.css}" rel="stylesheet">
  <link th:href="@{/css/postview.css}" rel="stylesheet">
  <!--font-->
  <link th:href="@{img/favicon.png}" rel="shortcut icon">
</head>
<body>
<header>
  <a th:href="@{/}" class="logo">프렌토피아</a>
  <nav>
    <ul class="gnb">
      <li><a th:href="@{/mentor-find}">멘토 찾기</a></li>
      <li><a href="my-wishlist.html">내 멘토링</a></li>
      <li th:if="${userRole} != 'ADMIN'"><a th:href="@{/myPage}">마이페이지</a></li>
      <li th:if="${userRole} == 'ADMIN'"><a th:href="@{/admin}">관리페이지</a></li>
      <li> | </li>
      <li th:if="${userName} == null"><a th:href="@{/oauth2/authorization/google}">로그인</a></li>
      <li th:if="${userName} != null" th:text="${userName} + '님, 환영합니다!'"></li>
      <li th:if="${userName} != null"><a th:href="@{/logout}">로그아웃</a></li>
    </ul>
  </nav>
</header>
<div class="wrap">
  <section>
    <div id="main_img_bar"></div>
    <div class="page-title">
      <div class="container">
        <h3>멘토 찾기</h3>
      </div>
    </div>
    <div class="layout">
      <div class="board_view">
        <div class="title">
          <h3 th:utext="${post.title}"></h3>
        </div>
        <div class="info">
          <dl>
            <dt>작성자</dt>
            <dd th:text="${post.author}"></dd>
          </dl>
        </div>
        <div class="cont">
          <p th:text="${post.content}"></p>
        </div>
      </div>
      <div class="bt_wrap">
        <button class="btn btn-secondary" type="list" th:onclick="|location.href='@{/mentor-find}'|">목록</button>
        <button th:if="${userName == post.author}" class="btn btn-secondary" type="update" th:onclick="|location.href='@{/posts/update/{id}(id = ${post.id})}'|" th:text="수정"></button>
        <button th:if="${userName != post.author}" class="btn btn-secondary" id="apply" th:onclick="|location.href='@{/api/v1/posts/mapping/{post_id}(post_id = ${post.id})}'|" th:text="신청하기"></button>
      </div>
    </div>
  </section>
</div>
<!--  <h1 th:text="${post.title}">제목입니다.</h1>-->
<!--  <p th:text="${post.content}">내용이 들어갈 부분입니다.</p>-->
<!--  <a th:href="@{/api/v1/posts/${post.id}">글 삭제</a>-->
<!--  &lt;!&ndash;<a th:href="@{${board.filepath}}">다운 받기</a>&ndash;&gt;-->
<!--  <a th:href="@{/api/v1/">신청</a>-->
<!--  <a th:href="@{/api/v1/posts/${post.id}">수정</a>-->
<script>
  const apply = document.getElementById("apply");

  apply.addEventListener('click', () => {
    alert('신청 되었습니다.')
    window.location.href = '/mentor-find';
  });

</script>
</body>
</html>